I don't actually think my global unique names test works - the idea was that the wrapper function would get inlined, and without a proper check for name conflicts or pass of a name uniquifier the recursive function would loop infinitely.  However, I don't think the wrapper will ever get inlined based on our inlining algorithm since it's not a leaf, but it seems reasonable that some other inlining algorithm might be able to recognize that such a wrapper is inlinable.  The other three tests should work though.